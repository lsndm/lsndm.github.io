---
layout: post
title: "myblog"
date: 2015-12-21 12:54:26 +0800
comments: true
categories:
---

![image]({{ root_url }}/public/images/amors.jpg)


js 原生js一句代码给网页所有元素加随机颜色边框
============================================

    [].slice.call(document.getElementsByTagName('*')).forEach ((ele) => {ele.style.setProperty('border', '1px solid #' + Math.random().toString(16).slice(2, 8));})

    [].slice.call(document.getElementsByTagName('*')).forEach(function(item, index, arr) {item.style.border = "1px solid red"})

    $("*").css("border", "1px dashed blue");

    var bs = "jflajdfwioqiuheutngjfvcxwyreiuqodskmxcvnbmqwertyuioppppplkjhgfdsaaaazzzzzzzzzzzzxcvbnmzcx";
    bs.split("").slice(0, 10).reduce((a, b) => (a[b]++ || (a[b] = 1), a), {})

作为背景图，图片过大并要全部显示
===================================

> `background: url() no-repeat center/cover;`
>
> `background-size: cover; /*自适应大小*/`

我的正则表达式
==============================

| 说明                           | 表达式                                   | 替换            |
| -------------                 | -------------                             |                |
| mybatis xml插入或更新操作替换  | `<if.*?>([^<]*[,]?)</if>`                 | `$1`           |
| mybatis xml参数替换           | `'([a-zA-Z]+)'`                           | `#{$1}`        |
| java业务层复制接口层后替换     | ((int&#124;void&#124;List&#124;Map)[^;]*); | `public $1 {}` |
| Java去除参数中的@Param("...") | `@Param.*?\) `                             |       ``       |
| 获取html标签                  | `<[a-zA-Z\/]*[^>]*>`                       |      ``       |




html下载表单拼接
=========================================

    var str = '<form style="display:none" id="exportForm" method="get" action="' + downloadChartsUrl + '">';

    str = str + '<input name="user" value='+user+'>' +
            '<input name="startTime" value='+startTime+'>' +
            '<input name="endTime" value='+endTime+'>' + '</form>';
    //如果之前导出过，这里要先删除
    if ($("#exportForm").size() > 0){
        $("#exportForm").remove()
    }
    $("body").append(str);
    $("#exportForm").submit();`

js
==========================
```javascript
/**把array转化成ACTION中能以数组接受的形式例如 IDS
 * 把[a,b,c,d] 转化成str=a&str=b
 * @param ary
 * @param str
 * @return str
 */
function gArrayToParam(ary,str){
    return str+"="+ary.join("&"+str+"=")
}

$("#id input").map(function() {
    return ($(this).attr("name")+'='+$(this).val());
}).get().join("&");

function random(min, max) {
  return Math.random() * (max - min) + min;
}

function toJson(result) {
	if (typeof result == "string") {
		return eval("(" + result + ")");
	} else {
		return result;
	}
}

/**
 *
 * 增加zj.formatString功能
 *
 * 使用方法：formatString('字符串{0}字符串{1}字符串','第一个变量','第二个变量');
 *
 * @returns 格式化后的字符串
 */
function formatString(str) {
	for (var i = 0; i < arguments.length - 1; i++) {
		str = str.replace("{" + i + "}", arguments[i + 1]);
	}
	return str;
}
```
---    

oracle 分页计算公示
=============================
    1. 起始页从1开始
        rownum >= (pageNo - 1) * pageSize + 1    rownum < pageNo * pageSize + 1
        rownum > (pageNo - 1) * pageSize    rownum < pageNo * pageSize + 1
    2. 起始页从0开始
        rownum >= pageNo * pageSeze + 1       rownum < (pageNo + 1) * pageSize + 1
        rownum > pageNo * pageSeze       rownum < (pageNo + 1) * pageSize + 1

总页数计算
=======================
      1.  int pageCount = (int) Math.ceil(rowCount / (double) pageSize);

      2.  int pageCount = total / rows;
          if (total % rows > 0) {
              pageCount++;
          }
